{% extends 'users/Trainer/trainer_dashboard.html' %}
{% block dashboard_content %}
    <h2>Manage Your Availability</h2>

    {% if availabilities %}
        <ul>
        {% for availability in availabilities %}
            <li>
                {{ availability.date|date:"Y-m-d" }} {{ availability.start_time }} - {{ availability.end_time }}
                <form method="post" style="display:inline;">
                    {% csrf_token %}
                    <input type="hidden" name="delete_id" value="{{ availability.id }}">
                    <button type="submit">Delete</button>
                </form>
                <form method="post" style="display:inline;">
                    {% csrf_token %}
                    <input type="hidden" name="edit_id" value="{{ availability.id }}">
                    <button type="submit">Edit</button>
                </form>
            </li>
        {% endfor %}
        </ul>
    {% else %}
        <p>No availability added yet.</p>
    {% endif %}

    <hr>
    <h3>Add New Availability</h3>

    <form method="post">
        {% csrf_token %}
        {% if form.instance.id %}
            <input type="hidden" name="availability_id" value="{{ form.instance.id }}">
        {% endif %}
        {{ form.as_p }}
        <button type="submit">Submit</button>
    </form>
{% endblock %}